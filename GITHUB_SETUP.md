# GitHub Setup Guide

## Step 1: Create GitHub Repository

### Option A: Using GitHub CLI (Recommended)
```bash
# Install GitHub CLI if not installed
brew install gh

# Login to GitHub
gh auth login

# Create private repository
gh repo create ai-watermark-remover --private --source=. --remote=origin --push
```

### Option B: Using GitHub Web Interface

1. Go to https://github.com/new
2. Fill in:
   - **Repository name**: `ai-watermark-remover`
   - **Description**: AI Video Watermark Removal SaaS Platform
   - **Visibility**: âœ… Private
   - **DO NOT** initialize with README (we already have one)
3. Click **Create repository**

4. Copy the repository URL (should look like):
   ```
   git@github.com:YOUR_USERNAME/ai-watermark-remover.git
   ```

## Step 2: Push Code to GitHub

```bash
cd /Users/jimmyjing/Documents/learn-antigravity/aiWatermarkRemover

# Add GitHub as remote
git remote add origin git@github.com:YOUR_USERNAME/ai-watermark-remover.git

# Push code
git branch -M main
git push -u origin main
```

## Step 3: Verify

Visit your repository at:
```
https://github.com/YOUR_USERNAME/ai-watermark-remover
```

You should see all your files!

## Step 4: Connect to Vercel

1. Go to https://vercel.com
2. Click **Add New** â†’ **Project**
3. Select **Import Git Repository**
4. Choose `ai-watermark-remover`
5. Configure:
   - **Framework Preset**: Next.js
   - **Root Directory**: `frontend`
   - **Environment Variables**:
     ```
     NEXT_PUBLIC_API_URL = https://your-backend.railway.app
     ```
6. Click **Deploy**

## Step 5: Connect to Railway

1. Go to https://railway.app
2. Click **New Project**
3. Select **Deploy from GitHub repo**
4. Choose `ai-watermark-remover`
5. Railway will auto-detect the backend
6. Add services:
   - PostgreSQL (Database â†’ Add PostgreSQL)
   - Redis (Database â†’ Add Redis)
7. Configure environment variables (see below)
8. Deploy!

### Railway Environment Variables

Set these in Railway â†’ Backend Service â†’ Variables:

```bash
# Auto-generated by Railway
DATABASE_URL=${POSTGRESQL_URL}
REDIS_URL=${REDIS_URL}

# You need to add these
S3_ENDPOINT_URL=https://<account-id>.r2.cloudflarestorage.com
AWS_ACCESS_KEY_ID=<your-r2-access-key>
AWS_SECRET_ACCESS_KEY=<your-r2-secret-key>
BUCKET_NAME=ai-watermark-remover
PUBLIC_URL_BASE=https://pub-xxx.r2.dev
```

## Common Issues

### Issue: Permission Denied (Publickey)
```bash
# Generate SSH key
ssh-keygen -t ed25519 -C "your_email@example.com"

# Add to ssh-agent
eval "$(ssh-agent -s)"
ssh-add ~/.ssh/id_ed25519

# Copy public key
cat ~/.ssh/id_ed25519.pub | pbcopy

# Add to GitHub:
# GitHub â†’ Settings â†’ SSH and GPG keys â†’ New SSH key
```

### Issue: Frontend/Worker are submodules
This was already fixed! We removed the nested .git directories.

### Issue: Git asking for username/password
Use SSH instead of HTTPS:
```bash
git remote set-url origin git@github.com:YOUR_USERNAME/ai-watermark-remover.git
```

## Next Step: Add STORAGE_COMPARISON.md

```bash
git add STORAGE_COMPARISON.md GITHUB_SETUP.md
git commit -m "docs: add storage comparison and GitHub setup guide"
git push
```

## Continuous Deployment

Once connected:
- **Vercel**: Auto-deploys on every push to `main`
- **Railway**: Auto-deploys on every push to `main`

To disable auto-deploy, configure in the respective dashboards.

## Branches & Workflow (Optional)

Create a development branch:
```bash
git checkout -b develop
git push -u origin develop
```

Set up GitHub branch protection:
1. GitHub â†’ Settings â†’ Branches
2. Add rule for `main`
3. Require pull request reviews
4. Require status checks (CI/CD)

---

You're all set! ðŸŽ‰
